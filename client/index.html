<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Impostor Arcane ‚Äì Local & Online</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <header class="app-header">
    <div>
      <div class="brand-title">IMPOSTOR ARCANE</div>
      <div class="brand-subtitle">Party Game ¬∑ Local & Online</div>
    </div>
    <div id="connection-indicator" class="connection connection--disconnected">
      Servidor: desconectado
    </div>
  </header>

  <main class="screen screen--home" id="screen-home">
    <section class="home-left">
      <h1>Eleg√≠ c√≥mo jugar</h1>
      <p>Un juego de impostores y palabras. Pod√©s jugar todos en la misma pantalla o crear una sala online.</p>
      <div class="home-buttons">
        <button id="btn-home-local" class="btn btn-primary">Modo Local (2D)</button>
        <button id="btn-home-online" class="btn btn-secondary">Modo Online</button>
      </div>
      <p class="tip">Tip: para el modo local, conect√° la compu a la tele como si fuera una consola.</p>
    </section>
    <section class="home-right">
      <ul>
        <li>Hasta 15 jugadores</li>
        <li>1 impostor m√≠nimo</li>
        <li>Ronda de palabras</li>
        <li>Votaci√≥n y expulsi√≥n</li>
      </ul>
    </section>
  </main>

  <main class="screen" id="screen-local">
    <section class="top-bar">
      <button class="btn btn-ghost" id="btn-back-from-local">‚Üê Volver</button>
      <h2>Impostor (Local)</h2>
    </section>
    <section class="layout">
      <aside class="panel">
        <p class="phase">
          Ronda: <span id="local-round">0</span> ¬∑
          Fase: <span id="local-phase">configuraci√≥n</span>
        </p>

        <div class="group">
          <label>Cantidad de jugadores (2 a 15)
            <input type="number" id="local-player-count" value="3" min="2" max="15" />
          </label>
          <label>Nombres (separados por coma)
            <input type="text" id="local-names" placeholder="Juan, Pedro, Meli..." />
          </label>
          <label>Cantidad de impostores (1 a 4)
            <input type="number" id="local-impostor-count" value="1" min="1" max="4" />
          </label>

          <div class="btn-row">
            <button id="local-btn-load" class="btn btn-primary">Cargar jugadores</button>
            <button id="local-btn-deal" class="btn btn-success" disabled>Repartir cartas</button>
          </div>
          <button id="local-btn-next" class="btn btn-secondary btn-full" disabled>Siguiente turno</button>
        </div>

        <div class="group">
          <h3>Jugadores</h3>
          <ul id="local-player-list" class="player-list"></ul>
        </div>

        <div class="group">
          <h3>Ver carta de:</h3>
          <select id="local-see-select">
            <option value="">-- Elegir jugador --</option>
          </select>
          <p class="tip">Que cada uno venga solo a ver su carta üòâ</p>
          <div id="local-card" class="role-card role-card--hidden">
            <span id="local-card-text"></span>
          </div>
        </div>

        <div class="group">
          <h3>Votaci√≥n</h3>
          <button id="local-btn-open-vote" class="btn btn-secondary btn-full" disabled>Ir a votaci√≥n</button>
          <select id="local-vote-select" disabled>
            <option value="">-- ¬øA qui√©n expulsan? --</option>
          </select>
          <button id="local-btn-kick" class="btn btn-danger btn-full" disabled>Expulsar</button>
          <p id="local-status" class="status-text"></p>
        </div>
      </aside>

      <section class="canvas-wrap">
        <canvas id="local-canvas"></canvas>
      </section>
    </section>
  </main>

  <main class="screen" id="screen-online">
    <section class="top-bar">
      <button class="btn btn-ghost" id="btn-back-from-online">‚Üê Volver</button>
      <h2>Impostor (Online)</h2>
    </section>

    <section class="layout">
      <aside class="panel">
        <div class="group">
          <h3>Lobby</h3>
          <label>Tu nombre
            <input type="text" id="online-name" placeholder="Ej: Meli" />
          </label>
          <div class="btn-row">
            <button id="online-btn-create" class="btn btn-primary">Crear sala</button>
          </div>
          <div class="btn-row">
            <input type="text" id="online-room-code" placeholder="C√≥digo sala" />
            <button id="online-btn-join" class="btn btn-secondary">Unirse</button>
          </div>
          <p class="tip">El host puede iniciar la partida cuando est√©n todos.</p>
        </div>

        <div class="group">
          <h3>Jugadores en sala</h3>
          <ul id="online-player-list" class="player-list"></ul>
        </div>

        <div class="group">
          <h3>Partida</h3>
          <p>Fase: <span id="online-phase">sin sala</span></p>
          <p id="online-turn"></p>
          <button id="online-btn-start" class="btn btn-success btn-full" disabled>Iniciar partida (host)</button>
        </div>

        <div class="group">
          <h3>Tu carta</h3>
          <div id="online-card" class="role-card role-card--hidden">
            <span id="online-card-text"></span>
          </div>
        </div>

        <div class="group">
          <h3>Votaci√≥n</h3>
          <p id="online-vote-info" class="tip">A√∫n no se est√° votando.</p>
          <div id="online-vote-area"></div>
          <button id="online-btn-callvote" class="btn btn-secondary btn-full" disabled>Llamar a votaci√≥n (host)</button>
        </div>
      </aside>

      <section class="online-log-wrap">
        <h3>Log</h3>
        <div id="online-log" class="log-box"></div>
      </section>
    </section>
  </main>

  <script src="game-local.js"></script>
  <script src="game-online.js"></script>
  <script src="main.js"></script>
</body>
</html>
